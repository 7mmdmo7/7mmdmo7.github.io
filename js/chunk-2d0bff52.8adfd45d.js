(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bff52"],{4077:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container p-4"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.create_user.apply(null,arguments)}}},[s("div",{staticClass:"card m-4"},[s("div",{staticClass:"card-header"},[t._v("Inscription Dristributeur")]),s("div",{staticClass:"card-body"},[t.errorMessage?s("div",{staticClass:"text-center text-warning"},[t._v(" "+t._s(t.errorMessage)+" "),s("hr"),s("button",{staticClass:"btn btn-block btn-warning",attrs:{type:"button"},on:{click:t.tray_again}},[t._v("RÃ©essayer")])]):t.isLoading?s("div",{staticClass:"text-center",attrs:{type:"button"}},[s("b-icon",{staticClass:"m-auto",attrs:{icon:"circle-fill",animation:"throb","font-scale":"4"}}),s("br"),t._v("Loading ... ")],1):s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"form-group py-1"},[s("label",{attrs:{for:"input-live"}},[t._v("First Name: *")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.document.first_name,expression:"document.first_name"}],staticClass:"form-control",attrs:{type:"text",trim:"",require:""},domProps:{value:t.document.first_name},on:{input:function(e){e.target.composing||t.$set(t.document,"first_name",e.target.value)}}})])]),s("div",{staticClass:"col"},[s("div",{staticClass:"form-group py-1"},[s("label",{attrs:{for:"input-live"}},[t._v("Last Name: *")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.document.last_name,expression:"document.last_name"}],staticClass:"form-control",attrs:{type:"text",trim:"",require:""},domProps:{value:t.document.last_name},on:{input:function(e){e.target.composing||t.$set(t.document,"last_name",e.target.value)}}})])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"form-group"},[s("label",[t._v("State: *")]),s("select-component",{attrs:{options:t.states,trim:"",required:""},model:{value:t.document.state,callback:function(e){t.$set(t.document,"state",e)},expression:"document.state"}})],1)]),s("div",{staticClass:"col"},[s("div",{staticClass:"form-group"},[s("label",[t._v("City: *")]),s("select-component",{attrs:{options:t.cities_filtred,trim:"",required:""},model:{value:t.document.city,callback:function(e){t.$set(t.document,"city",e)},expression:"document.city"}})],1)])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"form-group py-1"},[s("label",{attrs:{for:"input-live"}},[t._v("Email: *")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.document.email,expression:"document.email"}],staticClass:"form-control",attrs:{type:"text",trim:"",require:""},domProps:{value:t.document.email},on:{input:function(e){e.target.composing||t.$set(t.document,"email",e.target.value)}}})])]),s("div",{staticClass:"col"},[s("div",{staticClass:"form-group py-1"},[s("label",{attrs:{for:"input-live"}},[t._v("Mobile: *")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.document.mobile,expression:"document.mobile"}],staticClass:"form-control",attrs:{type:"text",trim:"",require:""},domProps:{value:t.document.mobile},on:{input:function(e){e.target.composing||t.$set(t.document,"mobile",e.target.value)}}})])])]),s("div",{staticClass:"mb-2",attrs:{role:"group"}},[s("label",{attrs:{for:"input-live"}},[t._v("Kind:")]),s("select-component",{attrs:{options:t.kinds,trim:"",required:""},model:{value:t.document.kind,callback:function(e){t.$set(t.document,"kind",e)},expression:"document.kind"}})],1)])]),t.errorMessage||t.isLoading?t._e():s("div",{staticClass:"card-footer"},[s("div",{staticClass:"d-grid p-1"},[s("button",{staticClass:"btn btn-primary btn-lg",attrs:{type:"submit"}},[s("b-icon-person",{staticClass:"me-2"}),t._v("Suivant ")],1)])])])])])},a=[],o=s("2909"),n=(s("7db0"),s("99af"),s("f9f2")),r=s("f749"),c={name:"inscriptionDistributeurComponent",components:{},data:function(){return{kinds:["Particulier","Entreprise"],document:{uid:"",email:"",role:"",permissions:"",first_name:"",last_name:"",state:"",city:"",mobile:"",kind:"",created_at:"",modified_at:""},errorMessage:null,isLoading:!1}},computed:{cities_filtred:function(){var t=this,e=[];if(""==this.document.state)return e;var s=this.states.find((function(e){return e.value==t.document.state}));return s&&(e=[{value:"",text:""}].concat(Object(o["a"])(s.cities))),e}},watch:{state:function(t){t==this.initState?this.city=this.initCity:this.document.city=""}},created:function(){this.states=r["a"],console.log(n["b"]),console.log(n["b"].currentUser)},methods:{create_document:function(){var t=this;this.isLoading=!0,this.errorMessage=null;var e=n["a"].serverTimestamp();n["c"].collection("distributors").doc(this.document.uid).set({uid:this.document.uid,email:this.document.email,role:this.document.role,permissions:this.document.permissions,first_name:this.document.first_name,last_name:this.document.last_name,state:this.document.state,city:this.document.city,mobile:this.document.mobile,kind:this.document.kind,created_at:e,modified_at:e},{merge:!0}).then((function(){t.isLoading=!1,t.errorMessage=null,console.log("Document successfully created!"),t.$router.push({name:"home"})})).catch((function(e){t.isLoading=!1,t.errorMessage=e,console.log("error",e)}))}}},l=c,u=s("2877"),m=Object(u["a"])(l,i,a,!1,null,"b16a8ff0",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0bff52.8adfd45d.js.map