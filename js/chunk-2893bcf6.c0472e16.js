(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2893bcf6"],{"159b":function(e,t,a){var r=a("da84"),s=a("fdbc"),i=a("785a"),o=a("17c2"),l=a("9112"),n=function(e){if(e&&e.forEach!==o)try{l(e,"forEach",o)}catch(t){e.forEach=o}};for(var c in s)s[c]&&n(r[c]&&r[c].prototype);n(i)},"17c2":function(e,t,a){"use strict";var r=a("b727").forEach,s=a("a640"),i=s("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},5530:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4");function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},"7db0":function(e,t,a){"use strict";var r=a("23e7"),s=a("b727").find,i=a("44d2"),o="find",l=!0;o in[]&&Array(1)[o]((function(){l=!1})),r({target:"Array",proto:!0,forced:l},{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},a640:function(e,t,a){"use strict";var r=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&r((function(){a.call(null,t||function(){throw 1},1)}))}},b64b:function(e,t,a){var r=a("23e7"),s=a("7b0b"),i=a("df75"),o=a("d039"),l=o((function(){i(1)}));r({target:"Object",stat:!0,forced:l},{keys:function(e){return i(s(e))}})},b9ef:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container p-4"},[a("h2",[e._v("Paquets")]),a("div",{staticClass:"text-end mb-2"},[a("button",{staticClass:"btn btn-outline-secondary ms-1",on:{click:function(t){return e.$router.back(1)}}},[a("i",{staticClass:"bi-chevron-left me-1"}),e._v(" Retourner ")])]),a("form",{on:{submit:function(t){return t.preventDefault(),e.update_request(e.id)}}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("Modifier un Package #"+e._s(e.id))]),a("div",{staticClass:"card-body"},[e.errorMessage?a("div",{staticClass:"text-center text-warning"},[e._v(" "+e._s(e.errorMessage)+" "),a("hr"),a("button",{staticClass:"btn btn-block btn-warning",attrs:{type:"button"},on:{click:e.tray_again}},[e._v("Réessayer")])]):e.isLoading?a("loading-compoenent"):a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Téléphone de Distributeur *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.userPhone,expression:"request.userPhone"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Téléphone de Distributeur *",disabled:""},domProps:{value:e.request.userPhone},on:{input:function(t){t.target.composing||e.$set(e.request,"userPhone",t.target.value)}}})])]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Type de Paquet *:")]),a("select-component",{attrs:{options:e.$config.packageTypes},model:{value:e.request.packageType,callback:function(t){e.$set(e.request,"packageType",t)},expression:"request.packageType"}})],1)])]),a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Description *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.description,expression:"request.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Description *",required:""},domProps:{value:e.request.description},on:{input:function(t){t.target.composing||e.$set(e.request,"description",t.target.value)}}})]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Poids (kg) *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.weight,expression:"request.weight"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Poids (kg) *",required:""},domProps:{value:e.request.weight},on:{input:function(t){t.target.composing||e.$set(e.request,"weight",t.target.value)}}})])]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Largeur (cm) *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.width,expression:"request.width"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Largeur (cm) *",required:""},domProps:{value:e.request.width},on:{input:function(t){t.target.composing||e.$set(e.request,"width",t.target.value)}}})])]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Longueur (cm) *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.length,expression:"request.length"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Longueur (cm) *",required:""},domProps:{value:e.request.length},on:{input:function(t){t.target.composing||e.$set(e.request,"length",t.target.value)}}})])]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Hauteur (cm) *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.height,expression:"request.height"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Hauteur (cm) *",required:""},domProps:{value:e.request.height},on:{input:function(t){t.target.composing||e.$set(e.request,"height",t.target.value)}}})])])]),a("hr",{staticClass:"my-1"}),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Wilaya -départ- *:")]),a("select-component",{attrs:{options:e.states,trim:"",required:""},model:{value:e.request.wilayaFrom,callback:function(t){e.$set(e.request,"wilayaFrom",t)},expression:"request.wilayaFrom"}})],1)]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Baladia -départ- *:")]),a("select-component",{attrs:{options:e.cities_filtred,trim:"",required:""},model:{value:e.request.baladiaFrom,callback:function(t){e.$set(e.request,"baladiaFrom",t)},expression:"request.baladiaFrom"}})],1)]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Position GPS -départ- *:")]),a("latlanComponent",{model:{value:e.request.lat_lanFrom,callback:function(t){e.$set(e.request,"lat_lanFrom",t)},expression:"request.lat_lanFrom"}})],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Wilaya -arrivée- *:")]),a("select-component",{attrs:{options:e.states,trim:"",required:"",disabled:"true"},model:{value:e.request.wilayaTo,callback:function(t){e.$set(e.request,"wilayaTo",t)},expression:"request.wilayaTo"}})],1)]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Baladia -arrivée- *:")]),a("select-component",{attrs:{options:e.cities_filtred,trim:"",required:""},model:{value:e.request.baladiaTo,callback:function(t){e.$set(e.request,"baladiaTo",t)},expression:"request.baladiaTo"}})],1)]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Position GPS -arrivée- *:")]),a("latlanComponent",{model:{value:e.request.lat_lanTo,callback:function(t){e.$set(e.request,"lat_lanTo",t)},expression:"request.lat_lanTo"}})],1)])]),a("hr",{staticClass:"my-1"}),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Nom du destinataire *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.arriveName,expression:"request.arriveName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Receiver name *",required:""},domProps:{value:e.request.arriveName},on:{input:function(t){t.target.composing||e.$set(e.request,"arriveName",t.target.value)}}})])]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Téléphone du destinataire *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.arriveNumber,expression:"request.arriveNumber"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Téléphone du destinataire *",required:""},domProps:{value:e.request.arriveNumber},on:{input:function(t){t.target.composing||e.$set(e.request,"arriveNumber",t.target.value)}}})])])]),a("hr",{staticClass:"my-1"}),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Téléphone du Transporteur *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.driverPhone,expression:"request.driverPhone"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Téléphone du Transporteur *",disabled:""},domProps:{value:e.request.driverPhone},on:{input:function(t){t.target.composing||e.$set(e.request,"driverPhone",t.target.value)}}})])]),a("div",{staticClass:"w-100"}),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Code du Paquet *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.packageCode,expression:"request.packageCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Code du Paquet *",disabled:""},domProps:{value:e.request.packageCode},on:{input:function(t){t.target.composing||e.$set(e.request,"packageCode",t.target.value)}}})])]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Code de ramassage:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.pickupCode,expression:"request.pickupCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Code de ramassage",disabled:""},domProps:{value:e.request.pickupCode},on:{input:function(t){t.target.composing||e.$set(e.request,"pickupCode",t.target.value)}}})])]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Code secret:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.secretCode,expression:"request.secretCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Code secret",disabled:""},domProps:{value:e.request.secretCode},on:{input:function(t){t.target.composing||e.$set(e.request,"secretCode",t.target.value)}}})])])]),a("hr",{staticClass:"my-1"}),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Date de Mise en Ligne *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.createDate,expression:"request.createDate"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Date de Mise en Ligne *",disabled:""},domProps:{value:e.request.createDate},on:{input:function(t){t.target.composing||e.$set(e.request,"createDate",t.target.value)}}})])]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Date de Livraison:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.deliveryTime,expression:"request.deliveryTime"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Date de Livraison",disabled:""},domProps:{value:e.request.deliveryTime},on:{input:function(t){t.target.composing||e.$set(e.request,"deliveryTime",t.target.value)}}})])]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Statut *:")]),a("select-component",{attrs:{options:e.$config.requestStates,trim:"",disabled:""},model:{value:e.request.state,callback:function(t){e.$set(e.request,"state",t)},expression:"request.state"}})],1)])])])],1),e.errorMessage||e.isLoading?e._e():a("div",{staticClass:"card-footer text-center"},[e._m(0)])])])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"submit"}},[a("i",{staticClass:"bi-file-earmark-check me-1"}),e._v(" Enregistrer ")])}],i=a("5530"),o=a("2909"),l=(a("7db0"),a("99af"),a("f9f2")),n=a("f749"),c={components:{},data:function(){return{id:null,request:{userPhone:"",description:"",packageType:"",wilayaFrom:"",wilayaTo:"",baladiaFrom:"",baladiaTo:"",startLat:"",startLng:"",lat_lanFrom:{lat:"",lan:""},endLat:"",endLng:"",lat_lanTo:{lat:"",lan:""},weight:"",width:"",length:"",height:"",driverPhone:"",packageCode:"",pickupCode:"",secretCode:"",arriveName:"",arriveNumber:"",state:"",deliveryTime:"",createDate:""},errorMessage:null,isLoading:!1}},computed:{cities_filtred:function(){var e=this,t=[];if(""==this.request.wilayaFrom)return t;var a=this.states.find((function(t){return t.value==e.request.wilayaFrom}));return a&&(t=[{value:"",text:""}].concat(Object(o["a"])(a.cities))),t}},watch:{"request.wilayaFrom":function(e){this.request.wilayaTo=e},wilayaFrom:function(e,t){e&&t&&(this.request.baladiaFrom="",this.request.baladiaTo="")},$route:function(){this.id=this.$route.params.id,this.load_request(this.id)}},created:function(){this.states=n["a"],this.id=this.$route.params.id,this.load_request(this.id)},methods:{tray_again:function(){this.isLoading=!1,this.errorMessage=null},load_request:function(e){var t=this;this.isLoading=!0,this.errorMessage=null,l["d"].collection("requests").doc(e).get().then((function(a){t.isLoading=!1,t.errorMessage=null,console.log("Document loaded",e,a.data()),t.request=Object(i["a"])(Object(i["a"])({},t.request),{},{id:a.id},a.data()),t.request.lat_lanFrom.lat=a.data().startLat,t.request.lat_lanFrom.lan=a.data().startLat,t.request.lat_lanTo.lat=a.data().endLat,t.request.lat_lanTo.lan=a.data().endLng})).catch((function(e){t.isLoading=!1,t.errorMessage=e,console.log("error",e)}))},update_request:function(e){var t=this;this.isLoading=!0,this.errorMessage=null;var a=l["a"].serverTimestamp(),r=Object(i["a"])(Object(i["a"])({},this.request),{},{startLat:this.request.lat_lanFrom.lat,startLng:this.request.lat_lanFrom.lan,endLat:this.request.lat_lanTo.lat,endLng:this.request.lat_lanTo.lan,modified_at:a});l["d"].collection("requests").doc(e).update(r).then((function(){t.isLoading=!1,t.errorMessage=null,console.log("Package successfully updated!"),t.$router.back()})).catch((function(e){t.isLoading=!1,t.errorMessage=e,console.log("error",e)}))}}},u=c,d=a("2877"),m=Object(d["a"])(u,r,s,!1,null,"488d1a20",null);t["default"]=m.exports},dbb4:function(e,t,a){var r=a("23e7"),s=a("83ab"),i=a("56ef"),o=a("fc6a"),l=a("06cf"),n=a("8418");r({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(e){var t,a,r=o(e),s=l.f,c=i(r),u={},d=0;while(c.length>d)a=s(r,t=c[d++]),void 0!==a&&n(u,t,a);return u}})},e439:function(e,t,a){var r=a("23e7"),s=a("d039"),i=a("fc6a"),o=a("06cf").f,l=a("83ab"),n=s((function(){o(1)})),c=!l||n;r({target:"Object",stat:!0,forced:c,sham:!l},{getOwnPropertyDescriptor:function(e,t){return o(i(e),t)}})}}]);
//# sourceMappingURL=chunk-2893bcf6.c0472e16.js.map