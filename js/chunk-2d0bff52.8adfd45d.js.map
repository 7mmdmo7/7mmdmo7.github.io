{"version":3,"sources":["webpack:///./src/components/inscriptionDistributeurComponent.vue?127c","webpack:///src/components/inscriptionDistributeurComponent.vue","webpack:///./src/components/inscriptionDistributeurComponent.vue?cd48","webpack:///./src/components/inscriptionDistributeurComponent.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","preventDefault","create_user","apply","arguments","_v","_s","errorMessage","attrs","tray_again","directives","name","rawName","value","document","expression","domProps","target","composing","$set","states","model","callback","$$v","cities_filtred","kinds","isLoading","_e","staticRenderFns","components","data","uid","email","role","permissions","first_name","last_name","state","city","mobile","kind","created_at","modified_at","computed","watch","newVal","initState","initCity","created","algeria_cities","console","log","methods","create_document","component"],"mappings":"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","file":"js/chunk-2d0bff52.8adfd45d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container p-4\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.create_user.apply(null, arguments)}}},[_c('div',{staticClass:\"card m-4\"},[_c('div',{staticClass:\"card-header\"},[_vm._v(\"Inscription Dristributeur\")]),_c('div',{staticClass:\"card-body\"},[(_vm.errorMessage)?_c('div',{staticClass:\"text-center text-warning\"},[_vm._v(\" \"+_vm._s(_vm.errorMessage)+\" \"),_c('hr'),_c('button',{staticClass:\"btn btn-block btn-warning\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.tray_again}},[_vm._v(\"Réessayer\")])]):(_vm.isLoading)?_c('div',{staticClass:\"text-center\",attrs:{\"type\":\"button\"}},[_c('b-icon',{staticClass:\"m-auto\",attrs:{\"icon\":\"circle-fill\",\"animation\":\"throb\",\"font-scale\":\"4\"}}),_c('br'),_vm._v(\"Loading ... \")],1):_c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group py-1\"},[_c('label',{attrs:{\"for\":\"input-live\"}},[_vm._v(\"First Name: *\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.document.first_name),expression:\"document.first_name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"trim\":\"\",\"require\":\"\"},domProps:{\"value\":(_vm.document.first_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.document, \"first_name\", $event.target.value)}}})])]),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group py-1\"},[_c('label',{attrs:{\"for\":\"input-live\"}},[_vm._v(\"Last Name: *\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.document.last_name),expression:\"document.last_name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"trim\":\"\",\"require\":\"\"},domProps:{\"value\":(_vm.document.last_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.document, \"last_name\", $event.target.value)}}})])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"State: *\")]),_c('select-component',{attrs:{\"options\":_vm.states,\"trim\":\"\",\"required\":\"\"},model:{value:(_vm.document.state),callback:function ($$v) {_vm.$set(_vm.document, \"state\", $$v)},expression:\"document.state\"}})],1)]),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"City: *\")]),_c('select-component',{attrs:{\"options\":_vm.cities_filtred,\"trim\":\"\",\"required\":\"\"},model:{value:(_vm.document.city),callback:function ($$v) {_vm.$set(_vm.document, \"city\", $$v)},expression:\"document.city\"}})],1)])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group py-1\"},[_c('label',{attrs:{\"for\":\"input-live\"}},[_vm._v(\"Email: *\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.document.email),expression:\"document.email\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"trim\":\"\",\"require\":\"\"},domProps:{\"value\":(_vm.document.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.document, \"email\", $event.target.value)}}})])]),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group py-1\"},[_c('label',{attrs:{\"for\":\"input-live\"}},[_vm._v(\"Mobile: *\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.document.mobile),expression:\"document.mobile\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"trim\":\"\",\"require\":\"\"},domProps:{\"value\":(_vm.document.mobile)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.document, \"mobile\", $event.target.value)}}})])])]),_c('div',{staticClass:\"mb-2\",attrs:{\"role\":\"group\"}},[_c('label',{attrs:{\"for\":\"input-live\"}},[_vm._v(\"Kind:\")]),_c('select-component',{attrs:{\"options\":_vm.kinds,\"trim\":\"\",\"required\":\"\"},model:{value:(_vm.document.kind),callback:function ($$v) {_vm.$set(_vm.document, \"kind\", $$v)},expression:\"document.kind\"}})],1)])]),(!_vm.errorMessage && !_vm.isLoading)?_c('div',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"d-grid p-1\"},[_c('button',{staticClass:\"btn btn-primary btn-lg\",attrs:{\"type\":\"submit\"}},[_c('b-icon-person',{staticClass:\"me-2\"}),_vm._v(\"Suivant \")],1)])]):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container p-4\">\n    <form @submit.prevent=\"create_user\">\n      <div class=\"card m-4\">\n        <div class=\"card-header\">Inscription Dristributeur</div>\n        <div class=\"card-body\">\n          <div class=\"text-center text-warning\" v-if=\"errorMessage\">\n            {{ errorMessage }}\n            <hr />\n            <button class=\"btn btn-block btn-warning\" @click=\"tray_again\" type=\"button\">Réessayer</button>\n          </div>\n          <div class=\"text-center\" v-else-if=\"isLoading\" type=\"button\">\n            <b-icon icon=\"circle-fill\" animation=\"throb\" font-scale=\"4\" class=\"m-auto\"></b-icon>\n            <br />Loading ...\n          </div>\n          <div v-else>\n            <div class=\"row\">\n              <div class=\"col\">\n                <div class=\"form-group py-1\">\n                  <label for=\"input-live\">First Name: *</label>\n                  <input\n                    type=\"text\"\n                    v-model=\"document.first_name\"\n                    class=\"form-control\"\n                    trim\n                    require\n                  />\n                </div>\n              </div>\n              <div class=\"col\">\n                <div class=\"form-group py-1\">\n                  <label for=\"input-live\">Last Name: *</label>\n                  <input type=\"text\" v-model=\"document.last_name\" class=\"form-control\" trim require />\n                </div>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col\">\n                <div class=\"form-group\">\n                  <label>State: *</label>\n                  <select-component v-model=\"document.state\" :options=\"states\" trim required />\n                </div>\n              </div>\n              <div class=\"col\">\n                <div class=\"form-group\">\n                  <label>City: *</label>\n                  <select-component\n                    v-model=\"document.city\"\n                    :options=\"cities_filtred\"\n                    trim\n                    required\n                  />\n                </div>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col\">\n                <div class=\"form-group py-1\">\n                  <label for=\"input-live\">Email: *</label>\n                  <input type=\"text\" v-model=\"document.email\" class=\"form-control\" trim require />\n                </div>\n              </div>\n              <div class=\"col\">\n                <div class=\"form-group py-1\">\n                  <label for=\"input-live\">Mobile: *</label>\n                  <input type=\"text\" v-model=\"document.mobile\" class=\"form-control\" trim require />\n                </div>\n              </div>\n            </div>\n            <div role=\"group\" class=\"mb-2\">\n              <label for=\"input-live\">Kind:</label>\n              <select-component v-model=\"document.kind\" :options=\"kinds\" trim required />\n            </div>\n          </div>\n        </div>\n        <div class=\"card-footer\" v-if=\"!errorMessage && !isLoading\">\n          <div class=\"d-grid p-1\">\n            <button class=\"btn btn-primary btn-lg\" type=\"submit\">\n              <b-icon-person class=\"me-2\" />Suivant\n            </button>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { auth, db, FF_FieldValue } from \"../firebase\";\nimport algeria_cities from \"../assets/algeria_cities.js\";\n\nexport default {\n  name: \"inscriptionDistributeurComponent\",\n  components: {},\n  data() {\n    return {\n      kinds: [\"Particulier\", \"Entreprise\"],\n      document: {\n        uid: \"\",\n        email: \"\",\n        role: \"\",\n        permissions: \"\",\n        //\n        first_name: \"\",\n        last_name: \"\",\n        state: \"\",\n        city: \"\",\n        mobile: \"\",\n        kind: \"\",\n        created_at: \"\",\n        modified_at: \"\"\n      },\n      errorMessage: null,\n      isLoading: false\n    };\n  },\n  computed: {\n    cities_filtred() {\n      let cities_filtred = [];\n      if (this.document.state == \"\") return cities_filtred;\n      let state = this.states.find(state => state.value == this.document.state);\n      if (state) cities_filtred = [{ value: \"\", text: \"\" }, ...state.cities];\n      return cities_filtred;\n    }\n  },\n  watch: {\n    state(newVal) {\n      if (newVal == this.initState) this.city = this.initCity;\n      else this.document.city = \"\";\n    }\n  },\n  created() {\n    this.states = algeria_cities;\n    console.log(auth);\n    console.log(auth.currentUser);\n  },\n  methods: {\n    create_document() {\n      this.isLoading = true;\n      this.errorMessage = null;\n      let date = FF_FieldValue.serverTimestamp();\n      db.collection(\"distributors\")\n        .doc(this.document.uid)\n        .set(\n          {\n            uid: this.document.uid,\n            email: this.document.email,\n            role: this.document.role,\n            permissions: this.document.permissions,\n            //\n            first_name: this.document.first_name,\n            last_name: this.document.last_name,\n            state: this.document.state,\n            city: this.document.city,\n            mobile: this.document.mobile,\n            kind: this.document.kind,\n            created_at: date,\n            modified_at: date\n          },\n          { merge: true }\n        )\n        .then(() => {\n          this.isLoading = false;\n          this.errorMessage = null;\n          console.log(\"Document successfully created!\");\n          this.$router.push({\n            name: \"home\"\n          });\n        })\n        .catch(error => {\n          this.isLoading = false;\n          this.errorMessage = error;\n          console.log(\"error\", error);\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inscriptionDistributeurComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./inscriptionDistributeurComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./inscriptionDistributeurComponent.vue?vue&type=template&id=b16a8ff0&scoped=true&\"\nimport script from \"./inscriptionDistributeurComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./inscriptionDistributeurComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b16a8ff0\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}