(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f06cffb8"],{"159b":function(e,t,a){var r=a("da84"),s=a("fdbc"),i=a("785a"),o=a("17c2"),n=a("9112"),l=function(e){if(e&&e.forEach!==o)try{n(e,"forEach",o)}catch(t){e.forEach=o}};for(var c in s)s[c]&&l(r[c]&&r[c].prototype);l(i)},"17c2":function(e,t,a){"use strict";var r=a("b727").forEach,s=a("a640"),i=s("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},4736:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container p-4"},[a("h2",[e._v("Paquets")]),a("div",{staticClass:"text-end mb-2"},[a("button",{staticClass:"btn btn-outline-secondary ms-1",on:{click:function(t){return e.$router.back(1)}}},[a("i",{staticClass:"bi-chevron-left me-1"}),e._v(" Retourner ")])]),a("form",{on:{submit:function(t){return t.preventDefault(),e.create_request.apply(null,arguments)}}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[e._v("Ajouter un Paquet (#"+e._s(e.request.packageCode)+")")]),a("div",{staticClass:"card-body"},[e.errorMessage?a("div",{staticClass:"text-center text-warning"},[e._v(" "+e._s(e.errorMessage)+" "),a("hr"),a("button",{staticClass:"btn btn-block btn-warning",attrs:{type:"button"},on:{click:e.tray_again}},[e._v("Réessayer")])]):e.isLoading?a("loading-compoenent"):a("div",[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Description *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.description,expression:"request.description"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Description *",required:""},domProps:{value:e.request.description},on:{input:function(t){t.target.composing||e.$set(e.request,"description",t.target.value)}}})]),a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Type de Paquet *:")]),a("select-component",{attrs:{options:e.$config.packageTypes,trim:"",required:""},model:{value:e.request.packageType,callback:function(t){e.$set(e.request,"packageType",t)},expression:"request.packageType"}})],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Poids (kg) *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.weight,expression:"request.weight"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Poids (kg) *",required:""},domProps:{value:e.request.weight},on:{input:function(t){t.target.composing||e.$set(e.request,"weight",t.target.value)}}})])]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Largeur (cm) *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.width,expression:"request.width"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Largeur (cm) *",required:""},domProps:{value:e.request.width},on:{input:function(t){t.target.composing||e.$set(e.request,"width",t.target.value)}}})])]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Longueur (cm) *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.length,expression:"request.length"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Longueur (cm) *",required:""},domProps:{value:e.request.length},on:{input:function(t){t.target.composing||e.$set(e.request,"length",t.target.value)}}})])]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Hauteur (cm) *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.height,expression:"request.height"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Hauteur (cm) *",required:""},domProps:{value:e.request.height},on:{input:function(t){t.target.composing||e.$set(e.request,"height",t.target.value)}}})])])]),a("hr",{staticClass:"my-1"}),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Wilaya -départ- *:")]),a("select-component",{attrs:{options:e.states,trim:"",required:""},model:{value:e.request.wilayaFrom,callback:function(t){e.$set(e.request,"wilayaFrom",t)},expression:"request.wilayaFrom"}})],1)]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Baladia -départ- *:")]),a("select-component",{attrs:{options:e.cities_filtred,trim:"",required:""},model:{value:e.request.baladiaFrom,callback:function(t){e.$set(e.request,"baladiaFrom",t)},expression:"request.baladiaFrom"}})],1)]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Position GPS -départ- *:")]),a("latlanComponent",{model:{value:e.request.lat_lanFrom,callback:function(t){e.$set(e.request,"lat_lanFrom",t)},expression:"request.lat_lanFrom"}})],1)])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Wilaya -arrivée- *:")]),a("select-component",{attrs:{options:e.states,trim:"",required:"",disabled:"true"},model:{value:e.request.wilayaTo,callback:function(t){e.$set(e.request,"wilayaTo",t)},expression:"request.wilayaTo"}})],1)]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Baladia -arrivée- *:")]),a("select-component",{attrs:{options:e.cities_filtred,trim:"",required:""},model:{value:e.request.baladiaTo,callback:function(t){e.$set(e.request,"baladiaTo",t)},expression:"request.baladiaTo"}})],1)]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Position GPS -arrivée- *:")]),a("latlanComponent",{model:{value:e.request.lat_lanTo,callback:function(t){e.$set(e.request,"lat_lanTo",t)},expression:"request.lat_lanTo"}})],1)])]),a("hr",{staticClass:"my-1"}),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Nom du destinataire *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.arriveName,expression:"request.arriveName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Receiver name *",required:""},domProps:{value:e.request.arriveName},on:{input:function(t){t.target.composing||e.$set(e.request,"arriveName",t.target.value)}}})])]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group my-2"},[a("label",[e._v("Téléphone du destinataire *:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.request.arriveNumber,expression:"request.arriveNumber"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Téléphone du destinataire *",required:""},domProps:{value:e.request.arriveNumber},on:{input:function(t){t.target.composing||e.$set(e.request,"arriveNumber",t.target.value)}}})])])])])],1),e.errorMessage||e.isLoading?e._e():a("div",{staticClass:"card-footer text-center"},[e._m(0)])])])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn btn-outline-primary",attrs:{type:"submit"}},[a("i",{staticClass:"bi-file-earmark-check me-1"}),e._v(" Enregistrer ")])}],i=a("5530"),o=a("2909"),n=(a("7db0"),a("99af"),a("f9f2")),l=a("f749"),c={components:{},data:function(){return{request:{userPhone:"",description:"",packageType:"",wilayaFrom:"",wilayaTo:"",baladiaFrom:"",baladiaTo:"",startLat:"",startLng:"",lat_lanFrom:{lat:"",lan:""},endLat:"",endLng:"",lat_lanTo:{lat:"",lan:""},weight:"",width:"",length:"",height:"",driverPhone:"",packageCode:"",pickupCode:"",secretCode:"",arriveName:"",arriveNumber:"",state:"",deliveryTime:"",createDate:""},errorMessage:null,isLoading:!1}},computed:{cities_filtred:function(){var e=this,t=[];if(""==this.request.wilayaFrom)return t;var a=this.states.find((function(t){return t.value==e.request.wilayaFrom}));return a&&(t=[{value:"",text:""}].concat(Object(o["a"])(a.cities))),t}},watch:{"request.wilayaFrom":function(e){this.request.wilayaTo=e},wilayaFrom:function(e,t){e&&t&&(this.request.baladiaFrom="",this.request.baladiaTo="")}},created:function(){this.states=l["a"],this.prepare_request()},methods:{prepare_request:function(){var e="",t=Math.floor(9998*Math.random())+1;e="W"+this.$moment().format("DDMMYY")+"-"+t,this.request.packageCode=e,this.request.pickupCode=Math.floor(9998*Math.random())+1,this.request.secretCode=Math.floor(9998*Math.random())+1,this.request.state="online"},tray_again:function(){this.isLoading=!1,this.errorMessage=null},create_request:function(){var e=this;this.isLoading=!0,this.errorMessage=null;var t=n["a"].serverTimestamp(),a=Object(i["a"])(Object(i["a"])({},this.request),{},{userPhone:this.$store.state.user?this.$store.state.user.phoneNumber:"",startLat:this.request.lat_lanFrom.lat,startLng:this.request.lat_lanFrom.lan,endLat:this.request.lat_lanTo.lat,endLng:this.request.lat_lanTo.lan,createDate:t,created_at:t,modified_at:t});n["d"].collection("requests").add(a).then((function(){e.isLoading=!1,e.errorMessage=null,console.log("Package successfully created!"),e.$router.back()})).catch((function(t){e.isLoading=!1,e.errorMessage=t,console.log("error",t)}))}}},u=c,d=a("2877"),m=Object(d["a"])(u,r,s,!1,null,"567f2048",null);t["default"]=m.exports},5530:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4");function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},"7db0":function(e,t,a){"use strict";var r=a("23e7"),s=a("b727").find,i=a("44d2"),o="find",n=!0;o in[]&&Array(1)[o]((function(){n=!1})),r({target:"Array",proto:!0,forced:n},{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},a640:function(e,t,a){"use strict";var r=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&r((function(){a.call(null,t||function(){throw 1},1)}))}},b64b:function(e,t,a){var r=a("23e7"),s=a("7b0b"),i=a("df75"),o=a("d039"),n=o((function(){i(1)}));r({target:"Object",stat:!0,forced:n},{keys:function(e){return i(s(e))}})},dbb4:function(e,t,a){var r=a("23e7"),s=a("83ab"),i=a("56ef"),o=a("fc6a"),n=a("06cf"),l=a("8418");r({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(e){var t,a,r=o(e),s=n.f,c=i(r),u={},d=0;while(c.length>d)a=s(r,t=c[d++]),void 0!==a&&l(u,t,a);return u}})},e439:function(e,t,a){var r=a("23e7"),s=a("d039"),i=a("fc6a"),o=a("06cf").f,n=a("83ab"),l=s((function(){o(1)})),c=!n||l;r({target:"Object",stat:!0,forced:c,sham:!n},{getOwnPropertyDescriptor:function(e,t){return o(i(e),t)}})}}]);
//# sourceMappingURL=chunk-f06cffb8.74261aed.js.map